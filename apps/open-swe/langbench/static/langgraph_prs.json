[
  {
    "url": "https://api.github.com/repos/langchain-ai/langgraph/pulls/1004",
    "html_url": "https://github.com/langchain-ai/langgraph/pull/1004",
    "diff_url": "https://github.com/langchain-ai/langgraph/pull/1004.diff",
    "patch_url": "https://github.com/langchain-ai/langgraph/pull/1004.patch",
    "repo_owner": "Palashio",
    "repo_name": "langgraph",
    "pr_number": 1004,
    "merge_commit_sha": "738f725aeacf41d90b0081b3ae79754d1d1823e0",
    "title": "Support multiple interruptions after resuming execution",
    "body": "We noticed that it is currently not possible to interrupt a graph multiple times.\r\n\r\nOnce the graph resumes execution after an interruption, it just continues executing, ignoring `interrupt_before` and `interrupt_after`.\r\n\r\nThe reason is that after resuming this condition in `_should_interrupt` seems to always return false:\r\n```\r\nany(\r\n    checkpoint[\"channel_versions\"].get(chan, null_version)\r\n    > seen.get(chan, null_version)\r\n    for chan in snapshot_channels\r\n)\r\n```\r\n\r\nIn this PR I added a unit test in `test_interruption.py` to spec the desired behavior. I modified the code to pass the unit test, but since I do not understand what this code does it's probably not the right thing.\r\n\r\nIt would be great to get some guidance on how to fix this properly.\r\n",
    "created_at": "2024-07-12T16:42:14Z",
    "merged_at": "2024-07-12T19:53:17Z",
    "pre_merge_commit_sha": "558a513a1acbc0ae88ae24d6e5cc13325ab00ad1",
    "tests": {
      "libs/langgraph/tests/test_interruption.py": ["test_interruption_without_state_updates"]
    },
    "claudeCodeWithTests": {
      "libs/langgraph/tests/test_interruption.py": {
        "test_interruption_without_state_updates": "PASS"
      }
    }
  }
]